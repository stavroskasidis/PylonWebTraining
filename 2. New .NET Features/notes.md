# 2 New .Net Features - Part 1

- Project structure
  - The new project file (.csproj) definition
    - Project tag - sdk Attribute
    - Property & Item Groups
      - TargetFramework / LangVersion / Nullable / etc
    - Package & Project reference
  - Program.cs
    - Entry point of c# code (with/out main method)
    - HostBuilder interfaces - what are they? (abstraction of hosting environments - IIS)
      - WebHostBuilder
    - Show some configuration settings as example for an asp.net core project
  - Startup.cs/
    - Configuration class (can be any class - usually StartUp.cs)
      - Constructor / Configure Services / Configure
    - Services and service registration (example and entry for DI topic)
    - Request pipeline and middleware
  - wwwroot folder
    - static files repository
    - see how for example site.css in included in \_Layout.cshtml
  - appsettings.json files
    - application settings
    - json not xml
    - nested per environment
- Dependency Injection & Inversion of Control

  - What is DI?
    - Design Pattern
    - Implementation of IoC
    - Definition
  - Why DI?
    - Decoupling
    - Simplicity
    - Extensibility
    - Maintainability
    - Testing (unit test - solid principles)
    - Example with EmailSender
      - Have a method thad does some work and then needs to send an email
      - We don't care how email is send - we only need to send it
      - We include an IEmailSender in our constructor dependencies, an interface that we know provides the desired SendEmail method
      - DI mechanism will provide us with the correct service that can be an SmtpEmailSender or a MapiEmailSender
  - Terminology
    - Definition - interface
    - Implementation - class
    - Service Locator - container
    - Registration / Resolve (it even t) ?
      - The DI Mechanism even takes care of nested dependencies when resolving
    - Lifecycle
  - Dependency Injection types
    - Constructor
    - Property - Setter
    - Service Locator (IServiceProvider for asp.net)
  - Hands On
    - Step 1: New ASP.Net core Web app (Net 5.0)
  - Hands On
    - Step 1: Create a new mvc app
    - Step 2: Check .cs file
    - Step 3: Check program.cs file
    - Step 4: Check startup.cs file
    - Step 5: Check wwwroot folder
    - Step 6: Make a ITodosService and a MockTodosService implementation
    - Step 7: Register the service in the DI container in startup.cs
    - Step 8: Add service dependency to the constructor of IndexModel (index.cshtml.cs)
    - Step 9: Print the todos in the page using razor
    - Step 10: Create a JsonPlaceholderTodosService implementation
    - Step 11: Add the HttpClient service registration
    - Step 12: Change the Mock service to the JsonPlaceholderTodosService
